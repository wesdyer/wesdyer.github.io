<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regatta</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #3b82f6; /* Tailwind blue-500 */
        }
        canvas {
            display: block;
        }
        #ui-layer {
            position: absolute;
            top: 20px;
            right: 20px;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>

    <div id="ui-layer" class="flex flex-col items-end gap-4">

        <!-- HUD Container -->
        <div class="relative w-48 h-48">
            <!-- Glass Background -->
            <div class="absolute inset-0 rounded-full bg-slate-900/40 backdrop-blur-md border border-white/20 shadow-xl"></div>

            <!-- Rotating Compass Rose -->
            <div id="hud-compass-rose" class="absolute inset-0 w-full h-full transition-transform duration-100 ease-linear" style="will-change: transform;">
                 <!-- Compass Markings -->
                 <svg class="w-full h-full p-2" viewBox="0 0 100 100">
                     <!-- Cardinal Directions -->
                     <text x="50" y="14" font-size="12" text-anchor="middle" fill="white" font-weight="900" font-family="monospace">N</text>
                     <text x="88" y="54" font-size="10" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-family="monospace">E</text>
                     <text x="50" y="94" font-size="10" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-family="monospace">S</text>
                     <text x="12" y="54" font-size="10" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-family="monospace">W</text>

                     <!-- Ticks -->
                     <!-- Major -->
                     <line x1="50" y1="20" x2="50" y2="25" stroke="white" stroke-width="2" />
                     <line x1="50" y1="75" x2="50" y2="80" stroke="white" stroke-width="2" />
                     <line x1="75" y1="50" x2="80" y2="50" stroke="white" stroke-width="2" />
                     <line x1="20" y1="50" x2="25" y2="50" stroke="white" stroke-width="2" />

                     <!-- Minor diagonals -->
                     <path d="M71 29 L68 32" stroke="rgba(255,255,255,0.5)" stroke-width="1"/>
                     <path d="M71 71 L68 68" stroke="rgba(255,255,255,0.5)" stroke-width="1"/>
                     <path d="M29 71 L32 68" stroke="rgba(255,255,255,0.5)" stroke-width="1"/>
                     <path d="M29 29 L32 32" stroke="rgba(255,255,255,0.5)" stroke-width="1"/>
                 </svg>

                 <!-- Wind Arrow (Nested in Rose) -->
                 <div id="hud-wind-arrow" class="absolute inset-0 flex items-center justify-center transition-transform duration-300 ease-out" style="will-change: transform;">
                     <!-- Arrow Points Up (0deg) by default.
                          We will rotate this container to match wind direction.
                     -->
                     <svg class="w-full h-full p-0 opacity-90" viewBox="0 0 100 100">
                         <!-- A Wind Indicator Triangle/Arrow on the rim -->
                         <!-- Placed at top (0, -radius) so 0 rotation is Up/North relative to Rose -->
                         <path d="M50 5 L55 20 L50 16 L45 20 Z" fill="#38bdf8" stroke="#0ea5e9" stroke-width="1" />
                         <!-- Dotted line to center? -->
                         <line x1="50" y1="20" x2="50" y2="35" stroke="#38bdf8" stroke-width="1" stroke-dasharray="2 2" />
                     </svg>
                 </div>
            </div>

            <!-- Fixed Center Display -->
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-slate-800 rounded-full flex flex-col items-center justify-center border-2 border-slate-600 shadow-2xl z-10">
                <!-- Heading (Compass Direction) -->
                <div class="text-amber-400 font-mono font-bold text-sm tracking-widest" id="hud-heading">360Â°</div>

                <!-- Speed -->
                <div class="flex flex-col items-center -my-0.5">
                    <span class="text-2xl font-mono font-bold text-white leading-none tracking-tighter" id="hud-speed">0.0</span>
                    <span class="text-[10px] text-slate-400 font-bold uppercase">Knots</span>
                </div>

                <!-- Wind Speed -->
                <div class="mt-1 flex items-center gap-1 text-[10px] font-bold text-sky-400">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-3 h-3">
                        <path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" />
                    </svg>
                    <span id="hud-wind-speed" class="text-white">5.0</span>
                </div>
            </div>

            <!-- Boat Graphic (Fixed Up) on top of rose but behind center? No, usually boat is center.
                 Here we have data in center.
                 The "Head Up" view means the boat is implicitly pointing Up towards the top of the HUD if the HUD were the world.
                 But the Compass Rose rotates, so "N" moves.
                 We don't need a boat icon in the HUD if the main game view is the boat.
            -->
        </div>

        <!-- Controls / Help -->
        <div class="bg-white/90 p-3 rounded-lg backdrop-blur-sm shadow-lg border border-white/20 text-xs text-slate-700 w-full">
            <div class="grid grid-cols-2 gap-x-2 gap-y-1">
                <span><b>Arrows</b> Steer</span>
                <span><b>WASD</b> Pan</span>
                <span><b>QE</b> Rotate</span>
                <span><b>Enter</b> Reset</span>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
